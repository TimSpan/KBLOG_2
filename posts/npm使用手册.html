<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>npm使用手册 | KevinBlog</title>
    <meta name="description" content="npm使用手册">
    <link rel="stylesheet" href="/KBLOG_2/assets/style.fdc8bbf2.css">
    <link rel="modulepreload" href="/KBLOG_2/assets/Home.28853c6e.js">
    <link rel="modulepreload" href="/KBLOG_2/assets/app.faf383d0.js">
    <link rel="modulepreload" href="/KBLOG_2/assets/posts_npm使用手册.md.f25509cd.lean.js">
    
    <link rel="icon" type="image/jpeg" href="/avator.jpg">
  <meta name="author" content="Kevin">
  <meta property="og:title" content="Home">
  <meta property="og:description" content="Home of Kevin">
  <meta name="twitter:title" content="npm使用手册 | KevinBlog">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><div class="no-sidebar theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/KBLOG_2/" aria-label="KevinBlog, back to home" data-v-40587210 data-v-016a8bd8><img class="logo" src="/KBLOG_2/haimianbaobao.png" alt="Logo" data-v-016a8bd8> KevinBlog</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/" data-v-49fe041d>🏡Home <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/tags" data-v-49fe041d>🔖Tags <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/archives" data-v-49fe041d>📃Archives <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="toggleTheme" data-v-f68cd400><div class="light" data-v-f68cd400>🔆</div></div><!--]--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/" data-v-49fe041d>🏡Home <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/tags" data-v-49fe041d>🔖Tags <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/KBLOG_2/archives" data-v-49fe041d>📃Archives <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--[--><!----><!--]--><!--[--><!--[--><h1 class="title" data-v-524a1c9d>npm使用手册</h1><div class="date" data-v-524a1c9d>🕒 lastUpdated: 34 minutes ago</div><!--]--><div class="category" data-v-4c27e764><ul data-v-4c27e764><!--[--><li class="header" data-v-4c27e764><a href="#npm是什么" class="header-h1" data-v-4c27e764>npm是什么?</a><!----></li><li class="header" data-v-4c27e764><a href="#查看已安装的-npm-软件包" class="header-h1" data-v-4c27e764>查看已安装的 npm 软件包</a><!----></li><li class="header" data-v-4c27e764><a href="#安装npm软件包" class="header-h1" data-v-4c27e764>安装npm软件包</a><!----></li><li class="header" data-v-4c27e764><a href="#卸载npm软件包" class="header-h1" data-v-4c27e764>卸载npm软件包</a><!----></li><li class="header" data-v-4c27e764><a href="#npm全局和本地" class="header-h1" data-v-4c27e764>npm全局和本地</a><!----></li><li class="header" data-v-4c27e764><a href="#npm语义版本控制" class="header-h1" data-v-4c27e764>npm语义版本控制</a><!----></li><li class="header" data-v-4c27e764><a href="#node-modules文件夹" class="header-h1" data-v-4c27e764>node_modules文件夹</a><!----></li><li class="header" data-v-4c27e764><a href="#package-lock-json" class="header-h1" data-v-4c27e764>package-lock.json</a><!----></li><li class="header" data-v-4c27e764><a href="#安装指定版本的npm包" class="header-h1" data-v-4c27e764>安装指定版本的npm包</a><!----></li><li class="header" data-v-4c27e764><a href="#使用package-json" class="header-h1" data-v-4c27e764>使用package.json</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#save安装-save-dev标志" class="header-h2" data-v-4c27e764>--save安装--save-dev标志</a></li></ul></li><li class="header" data-v-4c27e764><a href="#进一步了解package-json" class="header-h1" data-v-4c27e764>进一步了解package.json</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#多人协作的问题" class="header-h2" data-v-4c27e764>多人协作的问题:</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#通过命令快速创建package-json文件" class="header-h2" data-v-4c27e764>通过命令快速创建package.json文件</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#dependencies节点" class="header-h2" data-v-4c27e764>dependencies节点</a></li></ul></li><li class="header" data-v-4c27e764><a href="#devdependencies节点" class="header-h1" data-v-4c27e764>devDependencies节点</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#开发依赖包" class="header-h2" data-v-4c27e764>开发依赖包</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#安装多个包" class="header-h2" data-v-4c27e764>安装多个包</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#一次性安装所有的包" class="header-h2" data-v-4c27e764>一次性安装所有的包</a></li></ul></li><li class="header" data-v-4c27e764><a href="#npm包分类" class="header-h1" data-v-4c27e764>npm包分类</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#开发依赖包-1" class="header-h2" data-v-4c27e764>开发依赖包</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#核心依赖包" class="header-h2" data-v-4c27e764>核心依赖包</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#全局包目录地址" class="header-h2" data-v-4c27e764>全局包目录地址</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#i5ting-toc将md转为html" class="header-h2" data-v-4c27e764>i5ting_toc将md转为html</a></li></ul></li><li class="header" data-v-4c27e764><a href="#开发属于自己的包" class="header-h1" data-v-4c27e764>开发属于自己的包</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#了解需要实现的功能" class="header-h2" data-v-4c27e764>了解需要实现的功能</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#初始化包的基本解构" class="header-h2" data-v-4c27e764>初始化包的基本解构</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#初始化package-json配置文件" class="header-h2" data-v-4c27e764>初始化package.json配置文件</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#在index-js中定义格式化时间的方法" class="header-h2" data-v-4c27e764>在index.js中定义格式化时间的方法</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#package-json中main属性" class="header-h2" data-v-4c27e764>package.json中main属性</a></li></ul></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#将不同的功能进行模块化的拆分" class="header-h2" data-v-4c27e764>将不同的功能进行模块化的拆分</a></li></ul></li><li class="header" data-v-4c27e764><a href="#把包发布到npm上" class="header-h1" data-v-4c27e764>把包发布到npm上</a><!----></li><li class="header" data-v-4c27e764><!----><ul data-v-4c27e764><li data-v-4c27e764><a href="#删除已发布的包" class="header-h2" data-v-4c27e764>删除已发布的包</a></li></ul></li><!--]--></ul></div><!--]--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h1 id="npm使用手册" tabindex="-1">npm使用手册 <a class="header-anchor" href="#npm使用手册" aria-hidden="true">#</a></h1><p><a href="https://www.npmjs.com.cn/" target="_blank" rel="noopener noreferrer">官方文档</a></p><h2 id="npm是什么" tabindex="-1">npm是什么? <a class="header-anchor" href="#npm是什么" aria-hidden="true">#</a></h2><p>包管理工具 npm （node package manager）这个包管理器工具随着Node.js 的安装一起被安装到了用户的电脑上 ,npm由三个独立的部分组成：</p><ul><li>网站</li><li>注册表（registry）</li><li>命令行工具 (CLI)</li></ul><p><a href="https://npmjs.com/" target="_blank" rel="noopener noreferrer"><em>网站</em></a> 是开发者查找包（package）、设置参数以及管理 npm 使用体验的主要途径。</p><p><em>注册表</em> 是一个巨大的数据库，保存了每个包（package）的信息。</p><p><a href="https://docs.npmjs.com/cli/npm" target="_blank" rel="noopener noreferrer"><em>CLI</em></a> 通过命令行或终端运行。开发者通过 CLI 与 npm 打交道。</p><h2 id="查看已安装的-npm-软件包" tabindex="-1">查看已安装的 npm 软件包 <a class="header-anchor" href="#查看已安装的-npm-软件包" aria-hidden="true">#</a></h2><div class="language-"><pre><code>npm list
</code></pre></div><p><code>npm list -g</code> 也一样，但适用于全局安装的软件包。</p><h2 id="安装npm软件包" tabindex="-1">安装npm软件包 <a class="header-anchor" href="#安装npm软件包" aria-hidden="true">#</a></h2><p>有两种方式用来安装 npm 包：<strong>本地安装</strong>和<strong>全局安装</strong>。至于选择哪种方式来安装，取决于我们如何使用这个包。</p><ul><li>如果你自己的模块依赖于某个包，并通过 Node.js 的 <code>require</code> 加载，那么你应该选择本地安装，这种方式也是 <code>npm install</code> 命令的默认行为。</li><li>如果你想将包作为一个命令行工具，（比如 grunt CLI），那么你应该选择<a href="https://www.npmjs.cn/getting-started/installing-npm-packages-globally" target="_blank" rel="noopener noreferrer">全局安装</a>。</li></ul><div class="language-sh"><pre><code>npm install &lt;package_name&gt;
//  install可以简写成 i 
npm i &lt;package_name&gt;
</code></pre></div><p>全局安装</p><div class="language-sh"><pre><code>npm install -g &lt;package&gt;
</code></pre></div><h2 id="卸载npm软件包" tabindex="-1">卸载npm软件包 <a class="header-anchor" href="#卸载npm软件包" aria-hidden="true">#</a></h2><p>若要卸载之前在本地安装（在 <code>node_modules</code> 文件夹使用 <code>npm install &lt;package-name&gt;</code>）的软件包，则从项目的根文件夹（包含 <code>node_modules</code> 文件夹的文件夹）中运行：</p><div class="language-bash"><pre><code><span class="token function">npm</span> uninstall <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
<span class="token function">npm</span> uninstall jquery
</code></pre></div><p>如果使用 <code>-S</code> 或 <code>--save</code> 标志，则还会移除 <code>package.json</code> 文件中的引用。</p><p>如果程序包是开发依赖项（列出在 <code>package.json</code> 文件的 devDependencies 中），则必须使用 <code>-D</code> 或 <code>--save-dev</code> 标志从文件中移除：</p><div class="language-bash"><pre><code><span class="token function">npm</span> uninstall -S <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
<span class="token function">npm</span> uninstall -D <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
</code></pre></div><p>如果该软件包是全局安装的，则需要添加 <code>-g</code> 或 <code>--global</code> 标志：</p><div class="language-bash"><pre><code><span class="token function">npm</span> uninstall -g <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
</code></pre></div><h2 id="npm全局和本地" tabindex="-1">npm全局和本地 <a class="header-anchor" href="#npm全局和本地" aria-hidden="true">#</a></h2><p>本地和全局的软件包之间的主要区别是：</p><ul><li><strong>本地的软件包</strong> 安装在运行 <code>npm install &lt;package-name&gt;</code> 的目录中，并且放置在此目录下的 <code>node_modules</code> 文件夹中。</li><li><strong>全局的软件包</strong> 放在系统中的单独位置（确切的位置取决于设置），无论在何处运行 <code>npm install -g &lt;package-name&gt;</code>。</li></ul><p>在代码中，应该只引入本地的软件包：</p><div class="language-js"><pre><code><span class="token constant">JS</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;package-name&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>所以何时应该以一种或另一种方式安装？</p><p>通常，所有的软件包都应本地安装。</p><p>这样可以确保计算机中可以有数十个应用程序，并且如果需要，每个应用程序都可以运行不同的版本。</p><p><em><strong>更新全局软件包会使所有的项目都使用新的版本，这可能会导致维护方面的噩梦，因为某些软件包可能会破坏与其他依赖项的兼容性等。</strong></em></p><p>所有的项目都有自己的软件包本地版本，即使这看起来有点浪费资源，但与可能产生的负面影响相比也很小。</p><p>当程序包提供了可从 shell（CLI）运行的可执行命令、且可在项目间复用时，则该程序包应被全局安装。</p><p>也可以在本地安装可执行命令并使用 npx 运行，但是某些软件包最好在全局安装。</p><p>一些流行的全局软件包的示例有：</p><ul><li><code>npm</code></li><li><code>create-react-app</code></li><li><code>vue-cli</code></li><li><code>grunt-cli</code></li><li><code>mocha</code></li><li><code>react-native-cli</code></li><li><code>gatsby-cli</code></li><li><code>forever</code></li><li><code>nodemon</code></li></ul><p>可能已经在系统上安装了一些全局软件包。 可以通过在命令行上运行以下命令查看：</p><div class="language-bash"><pre><code><span class="token environment constant">BASH</span>
<span class="token function">npm</span> list -g --depth <span class="token number">0</span>
</code></pre></div><h2 id="npm语义版本控制" tabindex="-1">npm语义版本控制 <a class="header-anchor" href="#npm语义版本控制" aria-hidden="true">#</a></h2><p>如果 Node.js 软件包中有一件很棒的事情，那就是它们都同意使用语义版本控制作为版本编号。</p><p>语义版本控制的概念很简单：所有的版本都有 3 个数字：<code>x.y.z</code>。</p><ul><li>第一个数字是主版本。也可以叫<strong>大版本</strong></li><li>第二个数字是次版本。也可以叫<strong>功能版本</strong></li><li>第三个数字是补丁版本。也可以叫<strong>Bug修复版本</strong></li></ul><p>当发布新的版本时，不仅仅是随心所欲地增加数字，还要遵循以下规则：</p><ul><li>当进行不兼容的 API 更改时，则升级主版本。</li><li>当以向后兼容的方式添加功能时，则升级次版本。</li><li>当进行向后兼容的缺陷修复时，则升级补丁版本。</li></ul><p>该约定在所有编程语言中均被采用，每个 <code>npm</code> 软件包都必须遵守该约定，这一点非常重要，因为整个系统都依赖于此。</p><p>为什么这么重要？</p><p>因为 <code>npm</code> 设置了一些规则，可用于在 <code>package.json</code> 文件中选择要将软件包更新到的版本（当运行 <code>npm update</code> 时）。</p><p>规则使用了这些符号：</p><ul><li><code>^</code></li><li><code>~</code></li><li><code>&gt;</code></li><li><code>&gt;=</code></li><li><code>&lt;</code></li><li><code>&lt;=</code></li><li><code>=</code></li><li><code>-</code></li><li><code>||</code></li></ul><p>这些规则的详情如下：</p><ul><li><code>^</code>: 只会执行不更改最左边非零数字的更新。 如果写入的是 <code>^0.13.0</code>，则当运行 <code>npm update</code> 时，可以更新到 <code>0.13.1</code>、<code>0.13.2</code> 等，但不能更新到 <code>0.14.0</code> 或更高版本。 如果写入的是 <code>^1.13.0</code>，则当运行 <code>npm update</code> 时，可以更新到 <code>1.13.1</code>、<code>1.14.0</code> 等，但不能更新到 <code>2.0.0</code> 或更高版本。</li><li><code>~</code>: 如果写入的是 <code>〜0.13.0</code>，则当运行 <code>npm update</code> 时，会更新到补丁版本：即 <code>0.13.1</code> 可以，但 <code>0.14.0</code> 不可以。</li><li><code>&gt;</code>: 接受高于指定版本的任何版本。</li><li><code>&gt;=</code>: 接受等于或高于指定版本的任何版本。</li><li><code>&lt;=</code>: 接受等于或低于指定版本的任何版本。</li><li><code>&lt;</code>: 接受低于指定版本的任何版本。</li><li><code>=</code>: 接受确切的版本。</li><li><code>-</code>: 接受一定范围的版本。例如：<code>2.1.0 - 2.6.2</code>。</li><li><code>||</code>: 组合集合。例如 <code>&lt; 2.1 || &gt; 2.6</code>。</li></ul><p>可以合并其中的一些符号，例如 <code>1.0.0 || &gt;=1.1.0 &lt;1.2.0</code>，即使用 1.0.0 或从 1.1.0 开始但低于 1.2.0 的版本。</p><div class="language-json"><pre><code>  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.25&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@vitejs/plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vite&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.9.9&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="node-modules文件夹" tabindex="-1">node_modules文件夹 <a class="header-anchor" href="#node-modules文件夹" aria-hidden="true">#</a></h2><p>node_modules 文件夹用来<code>存放所有已安装到项目中的包</code>。require() 导入第三方包时，就是从这个目录中查找并加载包。</p><h2 id="package-lock-json" tabindex="-1">package-lock.json <a class="header-anchor" href="#package-lock-json" aria-hidden="true">#</a></h2><p><em><strong>package-lock.json 配置文件用来记录 node_modules 目录下的每一个包的下载信息，例如包的名字、版本号、下载地址等。</strong></em></p><p><code>package-lock.json</code>对于 npm 修改<code>node_modules</code>树或<code>package.json</code>. 它描述了生成的确切树，以便后续安装能够生成相同的树，而不管中间依赖项更新如何。</p><ul><li>描述依赖关系树的单一表示，以保证团队成员、部署和持续集成安装完全相同的依赖关系。</li><li>为用户提供一种“时间旅行”到以前状态的工具，<code>node_modules</code>而无需提交目录本身。</li><li>通过可读的源代码控制差异来促进对树更改的更大可见性。</li><li>并通过允许 npm 跳过以前安装的包的重复元数据解析来优化安装过程。</li></ul><h2 id="安装指定版本的npm包" tabindex="-1">安装指定版本的npm包 <a class="header-anchor" href="#安装指定版本的npm包" aria-hidden="true">#</a></h2><p>通过@符号指定安装包时的版本号</p><ul><li>@</li></ul><div class="language-sh"><pre><code>npm i moment@2.22.2
</code></pre></div><h2 id="使用package-json" tabindex="-1">使用package.json <a class="header-anchor" href="#使用package-json" aria-hidden="true">#</a></h2><ul><li><code>version</code> 表明了当前的版本。</li><li><code>name</code> 设置了应用程序/软件包的名称。</li><li><code>description</code> 是应用程序/软件包的简短描述。</li><li><code>main</code> 设置了应用程序的入口点。</li><li><code>private</code> 如果设置为 <code>true</code>，则可以防止应用程序/软件包被意外地发布到 <code>npm</code>。</li><li><code>scripts</code> 定义了一组可以运行的 node 脚本。</li><li><code>dependencies</code> 设置了作为依赖安装的 <code>npm</code> 软件包的列表。</li><li><code>devDependencies</code> 设置了作为开发依赖安装的 <code>npm</code> 软件包的列表。</li><li><code>engines</code> 设置了此软件包/应用程序在哪个版本的 Node.js 上运行。</li><li><code>browserslist</code> 用于告知要支持哪些浏览器（及其版本）。</li></ul><h3 id="save安装-save-dev标志" tabindex="-1"><code>--save</code>安装<code>--save-dev</code>标志 <a class="header-anchor" href="#save安装-save-dev标志" aria-hidden="true">#</a></h3><p>添加依赖项的更简单（也更棒）的方法是从命令行执行此操作，使用或 <code>package.json</code>标记<code>npm install</code>命令，具体取决于您希望如何使用该依赖项。<code>--save --save-dev</code></p><p>在<code>package.json</code>&#39;s 下的dependencies 下添加入口</p><p>To add an entry to your <code>package.json</code>&#39;s <code>dependencies</code>:</p><div class="language-sh"><pre><code>npm install &lt;package_name&gt; --save
</code></pre></div><p>To add an entry to your <code>package.json</code>&#39;s <code>devDependencies</code>:</p><div class="language-sh"><pre><code>npm install &lt;package_name&gt; --save-dev
</code></pre></div><h2 id="进一步了解package-json" tabindex="-1">进一步了解package.json <a class="header-anchor" href="#进一步了解package-json" aria-hidden="true">#</a></h2><h3 id="多人协作的问题" tabindex="-1">多人协作的问题: <a class="header-anchor" href="#多人协作的问题" aria-hidden="true">#</a></h3><p>package.json中必须包含name,version,main这三个属性,分别代表包的名字,版本号,包的入口</p><div class="language-json"><pre><code>  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kblog&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
</code></pre></div><p>第三方包的体积过大,不方便在团队成员之间共享项目源代码</p><p><em><strong>解决:把node_modules添加到.gitignore忽略文件中</strong></em></p><p><em><strong>package.json中会记录之前安装过哪些包</strong></em>，团队成员拉取代码后直接基于package.json就可以快速把需要的第三方包都安装好（只需要执行一条命令）</p><h3 id="通过命令快速创建package-json文件" tabindex="-1">通过命令快速创建package.json文件 <a class="header-anchor" href="#通过命令快速创建package-json文件" aria-hidden="true">#</a></h3><div class="language-sh"><pre><code>npm init -y
</code></pre></div><blockquote><p>项目文件夹的名称一定要使用英文命名，不能出现空格</p></blockquote><blockquote><p>运行 npm install 命令安装包的时候,npm包概念里工具会自动把包的名称和版本号,记录到package.json中</p></blockquote><h3 id="dependencies节点" tabindex="-1">dependencies节点 <a class="header-anchor" href="#dependencies节点" aria-hidden="true">#</a></h3><p>专门用来记录您使用 npm install 命令安装了哪些包。</p><h2 id="devdependencies节点" tabindex="-1">devDependencies节点 <a class="header-anchor" href="#devdependencies节点" aria-hidden="true">#</a></h2><ul><li>如果某些包只在项目<em><strong>开发阶段</strong></em>会用到，在项目上线之后不会用到，则建议把这些包记录到 <em><strong>devDependencies</strong></em> 节点中。</li><li>与之对应的，如果某些包在开发和项目上线之后都需要用到，则建议把这些包记录到 dependencies 节点中</li></ul><h3 id="开发依赖包" tabindex="-1">开发依赖包 <a class="header-anchor" href="#开发依赖包" aria-hidden="true">#</a></h3><p>To add an entry to your <code>package.json</code>&#39;s <code>devDependencies</code>:</p><div class="language-sh"><pre><code>npm install &lt;package_name&gt; --save-dev
</code></pre></div><div class="language-sh"><pre><code>// 指定为开发依赖包，而非核心依赖包
npm i 包名 -D
或者
npm install 包名 --save-dev
</code></pre></div><h3 id="安装多个包" tabindex="-1">安装多个包 <a class="header-anchor" href="#安装多个包" aria-hidden="true">#</a></h3><p>一次安装多个包,分别是jquery 和 art-template,中间用空格隔开</p><div class="language-sh"><pre><code>npm i jquery art-template
</code></pre></div><h3 id="一次性安装所有的包" tabindex="-1">一次性安装所有的包 <a class="header-anchor" href="#一次性安装所有的包" aria-hidden="true">#</a></h3><div class="language-sh"><pre><code>npm install
或者
npm i
</code></pre></div><blockquote><p>执行npm install 命令时，npm包管理工具会先读取 packagejson 中的dependencies节点</p><p>读取到记录的所有依赖包名称和版本号之后，npm 包管理工具会把这些包一次性下载到项目中中</p></blockquote><h2 id="npm包分类" tabindex="-1">npm包分类 <a class="header-anchor" href="#npm包分类" aria-hidden="true">#</a></h2><h3 id="开发依赖包-1" tabindex="-1">开发依赖包 <a class="header-anchor" href="#开发依赖包-1" aria-hidden="true">#</a></h3><p>开发依赖包（被记录到 devDependencies 节点中的包，只在开发期间会用到）</p><h3 id="核心依赖包" tabindex="-1">核心依赖包 <a class="header-anchor" href="#核心依赖包" aria-hidden="true">#</a></h3><p>核心依赖包（被记录到 dependencies 节点中的包，在开发期间和项目上线之后都会用到）</p><h3 id="全局包目录地址" tabindex="-1">全局包目录地址 <a class="header-anchor" href="#全局包目录地址" aria-hidden="true">#</a></h3><p>在执行npm install命令时 , 如果提供了-g参数 ,则会把包安装为全局包</p><p>全局包会被安装到C:\Users\Kevin\AppData\Roaming\npm\node_modules目录下</p><p><img src="/KBLOG_2/assets/npm-g.2ee7e159.png" alt=""></p><blockquote><p>只有<strong>工具性的包</strong> ,才会有全局安装的必要性,因为它们提供了好用的终端命令</p></blockquote><h3 id="i5ting-toc将md转为html" tabindex="-1">i5ting_toc将md转为html <a class="header-anchor" href="#i5ting-toc将md转为html" aria-hidden="true">#</a></h3><p>i5ting_toc是一个可以把md文档转为html页面的小工具</p><h2 id="开发属于自己的包" tabindex="-1">开发属于自己的包 <a class="header-anchor" href="#开发属于自己的包" aria-hidden="true">#</a></h2><h3 id="了解需要实现的功能" tabindex="-1">了解需要实现的功能 <a class="header-anchor" href="#了解需要实现的功能" aria-hidden="true">#</a></h3><h3 id="初始化包的基本解构" tabindex="-1">初始化包的基本解构 <a class="header-anchor" href="#初始化包的基本解构" aria-hidden="true">#</a></h3><p>新建 <code>project_name-tools</code> 文件夹，作为包的根目录</p><p>在 <code>project_name-tools</code> 文件夹中，新建如下三个文件：</p><ul><li><code>package.json</code> (包管理配置文件)</li><li><code>index.js</code> (包的入口文件) <em><strong>通过require导入这个文件</strong></em></li><li><code>README.md</code> (包的说明文档)</li></ul><h3 id="初始化package-json配置文件" tabindex="-1">初始化package.json配置文件 <a class="header-anchor" href="#初始化package-json配置文件" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;project_name-tools&quot;</span><span class="token punctuation">,</span><span class="token comment">//名字不能是npm已经有的</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.0&quot;</span><span class="token punctuation">,</span><span class="token comment">//版本</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span><span class="token comment">//入口文件</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;提供了XXX功能&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">//搜索关键字</span>
    <span class="token string">&quot;XXX&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;XXX&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;XXX&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="在index-js中定义格式化时间的方法" tabindex="-1">在index.js中定义格式化时间的方法 <a class="header-anchor" href="#在index-js中定义格式化时间的方法" aria-hidden="true">#</a></h3><h3 id="package-json中main属性" tabindex="-1">package.json中main属性 <a class="header-anchor" href="#package-json中main属性" aria-hidden="true">#</a></h3><p>package.json中main属性的作用:</p><ol><li><code>Node</code> 在使用 <code>require</code> 导入某个路径的时候，发现没有具体的文件，就会看这个路径下查看是否有 <code>package.json</code> 这个文件</li><li>如果有，则查看是否有 <code>main</code> 这个属性</li><li>而如果main属性也有，则指定 <code>main</code> 属性对应的文件作为要执行的文件</li></ol><h3 id="将不同的功能进行模块化的拆分" tabindex="-1">将不同的功能进行模块化的拆分 <a class="header-anchor" href="#将不同的功能进行模块化的拆分" aria-hidden="true">#</a></h3><p>index.js中不写太多代码，主要负责导入其他模块，并把这些模块中需要向外暴露的成员，统一往外暴露。</p><h2 id="把包发布到npm上" tabindex="-1">把包发布到npm上 <a class="header-anchor" href="#把包发布到npm上" aria-hidden="true">#</a></h2><p>将终端切换到包的根目录之后 .运行 <code>npm publish</code> 命令，即可将包发布到 <code>npm</code> 上</p><blockquote><p>注意:包名不能雷同</p></blockquote><h3 id="删除已发布的包" tabindex="-1">删除已发布的包 <a class="header-anchor" href="#删除已发布的包" aria-hidden="true">#</a></h3><p><code>npm unpublish 包名 --force</code></p><blockquote><ul><li><code>npm unpublish</code> 命令只能删除 72 小时以内发布的包</li><li><code>npm unpublish</code> 删除的包，<strong>在 24 小时内不允许重复发布</strong></li></ul></blockquote></div></div><footer class="page-footer" data-v-8fcebc32 data-v-5c96fb00><div class="edit" data-v-5c96fb00><div class="edit-link" data-v-5c96fb00 data-v-55695e90><!----></div></div><div class="updated" data-v-5c96fb00><!----></div></footer><!----><!--[--><!--[--><!----><!--]--><!--[--><!----><!--]--><!--]--></div></main></div><!----><!--]--><footer data-v-15d3260c> Powered by <a href="https://github.com/clark-cui/" target="_blank" title="作者" data-v-15d3260c>clark-cui</a> | Copyright © 2019-2022 | MIT License </footer><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"f901fee4\",\"archives.md\":\"19ed9e94\",\"index.md\":\"b29d5498\",\"posts_ajax.md\":\"2dbb7b6a\",\"posts_git.md\":\"81144454\",\"posts_react.md\":\"35360c4f\",\"posts_es6模块化.md\":\"db1b3df9\",\"posts_npm使用手册.md\":\"f25509cd\",\"posts_npm命令发生的事.md\":\"21a8624d\",\"posts_vue3快速上手.md\":\"f3945d84\",\"posts_wechat-01.md\":\"2c6ac550\",\"posts_wechat-02.md\":\"90a06b4d\",\"posts_wechat-03.md\":\"657543fe\",\"posts_wechat-04.md\":\"c2e323b2\",\"posts_wechat-05.md\":\"8b1303ae\",\"tags.md\":\"99f27d27\"}")</script>
    <script type="module" async src="/KBLOG_2/assets/app.faf383d0.js"></script>
    
  </body>
</html>